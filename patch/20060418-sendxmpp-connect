--- sendxmpp.orig	Tue Apr 18 16:27:11 2006
+++ sendxmpp	Tue Apr 18 16:29:26 2006
@@ -248,8 +248,12 @@
     my @res;
     if (!$port) {
 	@res = $cnx->Connect(hostname=>$host,tls=>$tls);
+    error_exit ("could not connect to " . $host)
+        unless @res;
     } else {
 	@res = $cnx->Connect(hostname=>$host,port=>$port,tls=>$tls);
+    error_exit ("could not connect to " . $host . " on port " . $port)
+        unless @res;
     }
 
     xmpp_check_result("Connect",\@res,$cnx);
