source ~/usr/dot/mutt/muttrc.imap

set imap_mail_check=300
set ignore_list_reply_to=yes
set header_cache="~/usr/dot/private/mutt/headers"

set sidebar_visible="yes"
set sidebar_width=34
#set sidebar_boundary="/"

# color of folders with new mail
color sidebar_new brightwhite default 

# ctrl-n, ctrl-p to select next, prev folder ctrl-o to open selected folder
bind index \CP sidebar-prev
bind index \CN sidebar-next
bind index \CT sidebar-open
bind pager \CP sidebar-prev
bind pager \CN sidebar-next
bind pager \CT sidebar-open

# FIXME why mark-as-new in pager is toggle-new in index?!
bind pager <Esc>n mark-as-new
bind index <Esc>n toggle-new
bind index N search-opposite
bind pager N search-opposite

#bind index <Esc>f forward-message
#bind pager <Esc>f forward-message

bind index F flag-message
bind pager F flag-message
#macro index F "<enter-command>bind index <Down> sidebar-next<enter><enter-command>bind index <Up> sidebar-prev<enter>"
#macro index f "<enter-command>bind index <Down> next-undeleted<enter><enter-command>bind index <Up> previous-undeleted<enter>"
#macro pager F "<enter-command>bind index <Down> sidebar-next<enter><enter-command>bind index <Up> sidebar-prev<enter>"
#macro pager f "<enter-command>bind index <Down> next-undeleted<enter><enter-command>bind index <Up> previous-undeleted<enter>"

#bind index <PageUp> sidebar-scroll-up
#bind index <PageDown> sidebar-scroll-down
#bind index <F1> help
#bind pager <F1> help

# toggle sidebar visibility
macro index \Cb ':toggle sidebar_visible^M'
macro pager \Cb ':toggle sidebar_visible^M'  

set force_list_reply=no
set imap_servernoise=no
set attach_remind_regexp="attach|joint|enclos"
set abort_noattach=ask-yes

# See http://mutt-ng.supersized.org/archives/32-More-pre-defined-variables-providing-more-flexibility.html
folder-hook =. 'set record="=$muttng_folder_name"'
folder-hook =. 'macro index \ee "<resend-message>f=$muttng_folder_name\n"'
folder-hook =. 'macro pager \ee "<resend-message>f=$muttng_folder_name\n"'
folder-hook imaps://imap.gmail.com/$ 'set record="imaps://imap.gmail.com/"'

set trash=+TRASH
set imap_check_subscribed=yes

# vim:ft=muttrc
